# Generated by Django 4.2.24 on 2026-02-23 18:52

from django.db import migrations


def fix_qual_params(apps, schema_editor):
    QuestionAdvancedFeature = apps.get_model(
        'subsequences', 'QuestionAdvancedFeature'
    )  # noqa
    batch = list(
        QuestionAdvancedFeature.objects.filter(action='automatic_bedrock_qual')
    )
    for qaf in batch:
        qaf.params = [{'uuid': param['uuid']} for param in qaf.params]
    QuestionAdvancedFeature.objects.bulk_update(batch, ['params'])


def noop(*args, **kwargs):
    pass


class Migration(migrations.Migration):

    dependencies = [
        ('subsequences', '0008_rename_chained_qual_to_bedrock'),
    ]

    operations = [
        migrations.RunPython(fix_qual_params, noop),
    ]
